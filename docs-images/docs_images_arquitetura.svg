<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1200 480" role="img" aria-labelledby="title desc">
  <title id="title">Arquitetura Serverless: API Gateway, Lambda, DynamoDB e CloudWatch</title>
  <desc id="desc">Fluxo: Cliente --&gt; API Gateway --&gt; Lambda --&gt; DynamoDB. Logs e métricas no CloudWatch.</desc>

  <defs>
    <linearGradient id="card" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0%" stop-color="#101820"/>
      <stop offset="100%" stop-color="#0b1117"/>
    </linearGradient>
    <linearGradient id="accent" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#7aa2f7"/>
      <stop offset="100%" stop-color="#a7f3d0"/>
    </linearGradient>

    <style>
      .panel { fill: url(#card); stroke: #1f2937; stroke-width: 1.5; rx: 14; ry: 14; }
      .title { fill: #e5e7eb; font: 700 18px "Segoe UI", Roboto, Arial, sans-serif; }
      .label { fill: #cbd5e1; font: 600 16px "Segoe UI", Roboto, Arial, sans-serif; }
      .small { fill: #9ca3af; font: 13px "Segoe UI", Roboto, Arial, sans-serif; }
      .icon-bg { fill: #111827; stroke: #374151; stroke-width: 1.5; rx: 12; ry: 12; }
      .pipe { stroke: url(#accent); stroke-width: 3.5; stroke-linecap: round; stroke-dasharray: 8 10; fill: none; }
      .arrow { fill: none; stroke: url(#accent); stroke-width: 3.5; marker-end: url(#arrowHead); }
      .badge { fill: #0ea5e9; }
      .badge-text { fill: #ffffff; font: 700 12px "Segoe UI", Arial, sans-serif; }
    </style>

    <marker id="arrowHead" markerWidth="12" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#7aa2f7"/>
    </marker>

    <!-- Ícones -->
    <g id="ico-apigw">
      <rect x="0" y="0" width="84" height="84" rx="12" class="icon-bg"/>
      <rect x="16" y="18" width="8" height="48" fill="#7aa2f7"/>
      <rect x="60" y="18" width="8" height="48" fill="#7aa2f7"/>
      <rect x="36" y="30" width="12" height="24" fill="#7aa2f7"/>
      <rect x="28" y="24" width="28" height="36" fill="none" stroke="#7aa2f7" stroke-width="2"/>
    </g>

    <g id="ico-lambda">
      <rect x="0" y="0" width="84" height="84" rx="12" class="icon-bg"/>
      <path d="M24 60 L44 24 L52 40 L62 40 L44 60 Z" fill="none" stroke="#f59e0b" stroke-width="4" stroke-linejoin="round"/>
      <circle cx="62" cy="40" r="4" fill="#f59e0b"/>
    </g>

    <g id="ico-dynamo">
      <rect x="0" y="0" width="84" height="84" rx="12" class="icon-bg"/>
      <rect x="18" y="18" width="48" height="48" rx="6" ry="6" fill="none" stroke="#34d399" stroke-width="3"/>
      <rect x="22" y="24" width="40" height="6" fill="#0ea5e9"/>
      <rect x="22" y="38" width="40" height="6" fill="#0ea5e9"/>
      <rect x="22" y="52" width="40" height="6" fill="#0ea5e9"/>
    </g>

    <g id="ico-cw">
      <rect x="0" y="0" width="84" height="84" rx="12" class="icon-bg"/>
      <path d="M18 54 C26 42, 38 38, 48 46 S66 62, 74 50" fill="none" stroke="#a78bfa" stroke-width="3"/>
      <circle cx="48" cy="46" r="3" fill="#a78bfa"/>
      <rect x="18" y="18" width="12" height="8" fill="#a78bfa"/>
      <rect x="34" y="18" width="12" height="8" fill="#a78bfa" opacity="0.7"/>
      <rect x="50" y="18" width="12" height="8" fill="#a78bfa" opacity="0.45"/>
    </g>

    <g id="ico-client">
      <rect x="0" y="0" width="84" height="84" rx="12" class="icon-bg"/>
      <rect x="14" y="20" width="56" height="38" rx="6" ry="6" fill="none" stroke="#60a5fa" stroke-width="3"/>
      <rect x="28" y="64" width="28" height="6" rx="3" ry="3" fill="#60a5fa"/>
    </g>
  </defs>

  <rect x="0" y="0" width="1200" height="480" fill="#0b1220"/>

  <g transform="translate(24,18)">
    <rect width="1152" height="64" class="panel"/>
    <text x="24" y="40" class="title">Arquitetura Serverless — API Gateway -&gt; Lambda -&gt; DynamoDB -&gt; CloudWatch</text>
    <g transform="translate(1000,18)">
      <rect width="120" height="28" rx="8" class="badge"/>
      <text x="12" y="19" class="badge-text">AWS Cloud</text>
    </g>
  </g>

  <g transform="translate(24,102)">
    <rect width="1152" height="354" class="panel"/>

    <g transform="translate(40,40)">
      <g transform="translate(0,0)">
        <use href="#ico-client"/>
        <text x="42" y="104" text-anchor="middle" class="label">Cliente</text>
        <text x="42" y="124" text-anchor="middle" class="small">HTTP/HTTPS</text>
      </g>

      <g transform="translate(220,0)">
        <use href="#ico-apigw"/>
        <text x="42" y="104" text-anchor="middle" class="label">API Gateway</text>
        <text x="42" y="124" text-anchor="middle" class="small">REST/HTTP APIs</text>
      </g>

      <g transform="translate(440,0)">
        <use href="#ico-lambda"/>
        <text x="42" y="104" text-anchor="middle" class="label">Lambda</text>
        <text x="42" y="124" text-anchor="middle" class="small">Função</text>
      </g>

      <g transform="translate(660,0)">
        <use href="#ico-dynamo"/>
        <text x="42" y="104" text-anchor="middle" class="label">DynamoDB</text>
        <text x="42" y="124" text-anchor="middle" class="small">Tabela</text>
      </g>

      <g transform="translate(880,0)">
        <use href="#ico-cw"/>
        <text x="42" y="104" text-anchor="middle" class="label">CloudWatch</text>
        <text x="42" y="124" text-anchor="middle" class="small">Logs &amp; Métricas</text>
      </g>

      <path d="M96,42 C140,42 160,42 196,42" class="arrow"/>
      <path d="M316,42 C360,42 380,42 416,42" class="arrow"/>
      <path d="M536,42 C580,42 600,42 636,42" class="arrow"/>
      <path d="M524,70 C620,140 820,140 916,70" class="pipe"/>
      <text x="720" y="132" text-anchor="middle" class="small" fill="#a7f3d0">Logs / Métricas</text>
    </g>

    <g transform="translate(60,220)">
      <rect width="1032" height="76" rx="10" ry="10" fill="#0f172a" stroke="#1e293b" stroke-width="1.5"/>
      <text x="16" y="26" class="small">Fluxo:</text>
      <text x="70" y="26" class="small" fill="#e5e7eb">1) Cliente envia HTTP -&gt; 2) API Gateway roteia -&gt; 3) Lambda processa -&gt; 4) DynamoDB persiste -&gt; 5) CloudWatch registra.</text>
      <text x="16" y="50" class="small">Obs:</text>
      <text x="110" y="50" class="small" fill="#e5e7eb">Infra como código com CloudFormation; autenticação e estágios podem ser adicionados.</text>
    </g>
  </g>

  <g transform="translate(24,462)">
    <text x="0" y="0" class="small" fill="#64748b">Diagrama ilustrativo.</text>
  </g>
</svg>

